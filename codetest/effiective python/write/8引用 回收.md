#
## 8.1 变量不是盒子
变量是对象的一个标注
    ```python
    a=[1,2,3]
    b=[1,2,3]
    a==b
    True
    a is not b
    True
    ```
> a与b内容相同，==起作用，但是对象不同，所以is判定不同。is速度更快，因为不允许重载不同考虑太多重载函数

## 可变与不可变性
大多数集合如列表、字典、集保存的是对象的引用。对于tuple而言，引用内容不可变，但是若元素本身可变，元组值也可变。

## 列表和对象的浅复制
使用l2=list(l1) 或[:]的方式能完成对列表的浅复制。即复制最外层的容器。
1. 可变对象
  
   对于列表内的可变对象，新列表存储的仍然是旧列表存储的可变对象的地址。当可变对象发生改变时，都会发生改变。
2. 不可变对象
   
   对于不可变对象，同样存储不可变对象地址。但当对不可变对象进行更改时，如使用+=号对元组进行操作时会产生一个新的元组。

3. 深拷贝
   
   通过copy.copy 和copy.deepcopy 能完成对对象的浅拷贝和深拷贝。浅拷贝只拷贝外面容器。
4. 运算
    1. 对 += 或 *= 
   
        所做的增量赋值来说，如果左边的变量绑定的是不可变对象，会创建新对象；如果是可变对象，会就地修改
    2. 赋值
    
        为现有的变量赋予新值，不会改变原来的对象。因为现有变量在赋值操作过程中进行了重新绑定。
## 函数传参
### 默认值不要使用可变对象
默认值在定义函数时进行计算，默认值变成了函数对象的属性。如 passengers=[] self.passengers=passengers，中passengers作为对象属性，而self.passengers变成了这个属性的引用。正确的使用是None

### 闭包
嵌套函数时，父函数内的变量称为自由变量。通过nonlocal 来在子函数中声明自由变量，通过global声明全局变量。变量搜索先从局部搜索，再找闭包内，最后找全局。